<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1365px" preserveAspectRatio="none" style="width:678px;height:1365px;" version="1.1" viewBox="0 0 678 1365" width="678px" zoomAndPan="magnify"><defs><filter height="300%" id="faz7q2effpl4j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster state--><polygon fill="#FFFFFF" filter="url(#faz7q2effpl4j)" points="22,24,64,24,71,46.4883,656,46.4883,656,1353,22,1353,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="71" y1="46.4883" y2="46.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="26" y="39.5352">state</text><!--cluster state.Domain--><rect fill="#FFFFFF" filter="url(#faz7q2effpl4j)" height="1262" style="stroke: #000000; stroke-width: 1.5;" width="586" x="46" y="67"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="632" y1="87.4883" y2="87.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="311" y="82.5352">Domain</text><!--cluster state.Domain.CQ--><rect fill="#FFFFFF" filter="url(#faz7q2effpl4j)" height="688" style="stroke: #000000; stroke-width: 1.5;" width="535" x="73" y="617"/><line style="stroke: #000000; stroke-width: 1.5;" x1="73" x2="608" y1="637.4883" y2="637.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152" x="264.5" y="632.5352">Command and Query</text><!--cluster state.Domain.CQ.api--><polygon fill="#FFFFFF" filter="url(#faz7q2effpl4j)" points="97,660,168,660,175,682.4883,584,682.4883,584,1281,97,1281,97,660" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="97" x2="175" y1="682.4883" y2="682.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="101" y="675.5352">api.email</text><!--cluster state.Domain.CQ.api.command--><polygon fill="#FFFFFF" filter="url(#faz7q2effpl4j)" points="350,909,426,909,433,931.4883,560,931.4883,560,1257,350,1257,350,909" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="350" x2="433" y1="931.4883" y2="931.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="354" y="924.5352">command</text><!--cluster state.Domain.CQ.api.query--><polygon fill="#FFFFFF" filter="url(#faz7q2effpl4j)" points="359,703,405,703,412,725.4883,551,725.4883,551,885,359,885,359,703" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="359" x2="412" y1="725.4883" y2="725.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="363" y="718.5352">query</text><!--cluster state.Domain.models--><rect fill="#FFFFFF" filter="url(#faz7q2effpl4j)" height="483" style="stroke: #000000; stroke-width: 1.5;" width="508.5" x="70" y="110"/><line style="stroke: #000000; stroke-width: 1.5;" x1="70" x2="578.5" y1="130.4883" y2="130.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="297.75" y="125.5352">models</text><!--cluster state.Domain.models.values--><rect fill="#FFFFFF" filter="url(#faz7q2effpl4j)" height="235" style="stroke: #000000; stroke-width: 1.5;" width="460.5" x="94" y="153"/><line style="stroke: #000000; stroke-width: 1.5;" x1="94" x2="554.5" y1="173.4883" y2="173.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="301.25" y="168.5352">values</text><!--class state.Domain.CQ.api.ApplicationContextManager--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.CQ.api.ApplicationContextManager" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="113" y="986"/><ellipse cx="128" cy="1002" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M124.4277,998.2651 L124.4277,996.1069 L131.8071,996.1069 L131.8071,998.2651 L129.3418,998.2651 L129.3418,1006.3418 L131.8071,1006.3418 L131.8071,1008.5 L124.4277,1008.5 L124.4277,1006.3418 L126.8931,1006.3418 L126.8931,998.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="158" x="142" y="1006.5352">ApplicationContextManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="114" x2="302" y1="1018" y2="1018"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="114" x2="302" y1="1026" y2="1026"/><!--class state.Domain.CQ.api.command.CreateApplicationContext--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.CQ.api.command.CreateApplicationContext" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="366" y="944"/><ellipse cx="381" cy="960" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M377.4277,956.2651 L377.4277,954.1069 L384.8071,954.1069 L384.8071,956.2651 L382.3418,956.2651 L382.3418,964.3418 L384.8071,964.3418 L384.8071,966.5 L377.4277,966.5 L377.4277,964.3418 L379.8931,964.3418 L379.8931,956.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="146" x="395" y="964.5352">CreateApplicationContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="367" x2="543" y1="976" y2="976"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="367" x2="543" y1="984" y2="984"/><!--class state.Domain.CQ.api.command.CreateSessionID--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.CQ.api.command.CreateSessionID" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="393" y="1027"/><ellipse cx="408" cy="1043" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M404.4277,1039.2651 L404.4277,1037.1069 L411.8071,1037.1069 L411.8071,1039.2651 L409.3418,1039.2651 L409.3418,1047.3418 L411.8071,1047.3418 L411.8071,1049.5 L404.4277,1049.5 L404.4277,1047.3418 L406.8931,1047.3418 L406.8931,1039.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="92" x="422" y="1047.5352">CreateSessionID</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="394" x2="516" y1="1059" y2="1059"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="394" x2="516" y1="1067" y2="1067"/><!--class state.Domain.CQ.api.command.ResetSessionIDTimeout--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.CQ.api.command.ResetSessionIDTimeout" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="372.5" y="1110"/><ellipse cx="387.5" cy="1126" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M383.9277,1122.2651 L383.9277,1120.1069 L391.3071,1120.1069 L391.3071,1122.2651 L388.8418,1122.2651 L388.8418,1130.3418 L391.3071,1130.3418 L391.3071,1132.5 L383.9277,1132.5 L383.9277,1130.3418 L386.3931,1130.3418 L386.3931,1122.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="133" x="401.5" y="1130.5352">ResetSessionIDTimeout</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="373.5" x2="536.5" y1="1142" y2="1142"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="373.5" x2="536.5" y1="1150" y2="1150"/><!--class state.Domain.CQ.api.command.SetContext--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.CQ.api.command.SetContext" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="408.5" y="1193"/><ellipse cx="423.5" cy="1209" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M419.9277,1205.2651 L419.9277,1203.1069 L427.3071,1203.1069 L427.3071,1205.2651 L424.8418,1205.2651 L424.8418,1213.3418 L427.3071,1213.3418 L427.3071,1215.5 L419.9277,1215.5 L419.9277,1213.3418 L422.3931,1213.3418 L422.3931,1205.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="437.5" y="1213.5352">SetContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="500.5" y1="1225" y2="1225"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="409.5" x2="500.5" y1="1233" y2="1233"/><!--class state.Domain.CQ.api.query.GetApplicationContext--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.CQ.api.query.GetApplicationContext" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="375" y="738"/><ellipse cx="390" cy="754" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M386.4277,750.2651 L386.4277,748.1069 L393.8071,748.1069 L393.8071,750.2651 L391.3418,750.2651 L391.3418,758.3418 L393.8071,758.3418 L393.8071,760.5 L386.4277,760.5 L386.4277,758.3418 L388.8931,758.3418 L388.8931,750.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="128" x="404" y="758.5352">GetApplicationContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="376" x2="534" y1="770" y2="770"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="376" x2="534" y1="778" y2="778"/><!--class state.Domain.CQ.api.query.VerifySessionID--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.CQ.api.query.VerifySessionID" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="395.5" y="821"/><ellipse cx="410.5" cy="837" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M406.9277,833.2651 L406.9277,831.1069 L414.3071,831.1069 L414.3071,833.2651 L411.8418,833.2651 L411.8418,841.3418 L414.3071,841.3418 L414.3071,843.5 L406.9277,843.5 L406.9277,841.3418 L409.3931,841.3418 L409.3931,833.2651 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="87" x="424.5" y="841.5352">VerifySessionID</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="396.5" x2="513.5" y1="853" y2="853"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="396.5" x2="513.5" y1="861" y2="861"/><!--class state.Domain.models.AccessContext--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="60.9551" id="state.Domain.models.AccessContext" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="133" y="406.5"/><ellipse cx="163.75" cy="422.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M166.2231,428.6431 Q165.6421,428.9419 165.0029,429.0913 Q164.3638,429.2407 163.6582,429.2407 Q161.1514,429.2407 159.8315,427.5889 Q158.5117,425.937 158.5117,422.8159 Q158.5117,419.6865 159.8315,418.0347 Q161.1514,416.3828 163.6582,416.3828 Q164.3638,416.3828 165.0112,416.5322 Q165.6587,416.6816 166.2231,416.9805 L166.2231,419.7031 Q165.5923,419.1221 164.9988,418.8523 Q164.4053,418.5825 163.7744,418.5825 Q162.4297,418.5825 161.7449,419.6492 Q161.0601,420.7158 161.0601,422.8159 Q161.0601,424.9077 161.7449,425.9744 Q162.4297,427.041 163.7744,427.041 Q164.4053,427.041 164.9988,426.7712 Q165.5923,426.5015 166.2231,425.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="181.25" y="427.0352">AccessContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="134" x2="282" y1="438.5" y2="438.5"/><ellipse cx="144" cy="450.4775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="153" y="453.1348">status: SessionIDStatus</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="134" x2="282" y1="459.4551" y2="459.4551"/><!--class state.Domain.models.ApplicationContext--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="73.9102" id="state.Domain.models.ApplicationContext" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="116" y="503"/><ellipse cx="150.8" cy="519" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M153.2731,525.1431 Q152.6921,525.4419 152.0529,525.5913 Q151.4138,525.7407 150.7082,525.7407 Q148.2014,525.7407 146.8815,524.0889 Q145.5617,522.437 145.5617,519.3159 Q145.5617,516.1865 146.8815,514.5347 Q148.2014,512.8828 150.7082,512.8828 Q151.4138,512.8828 152.0612,513.0322 Q152.7087,513.1816 153.2731,513.4805 L153.2731,516.2031 Q152.6423,515.6221 152.0488,515.3523 Q151.4553,515.0825 150.8244,515.0825 Q149.4797,515.0825 148.7949,516.1492 Q148.1101,517.2158 148.1101,519.3159 Q148.1101,521.4077 148.7949,522.4744 Q149.4797,523.541 150.8244,523.541 Q151.4553,523.541 152.0488,523.2712 Q152.6423,523.0015 153.2731,522.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="169.2" y="523.5352">ApplicationContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="117" x2="299" y1="535" y2="535"/><ellipse cx="127" cy="546.9775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="136" y="549.6348">childContexts: Seq[Context]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="117" x2="299" y1="555.9551" y2="555.9551"/><ellipse cx="127" cy="567.9326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="136" y="570.5898">get[T &lt;: Context](Class[T]): T</text><!--class state.Domain.models.values.SessionID--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="60.9551" id="state.Domain.models.values.SessionID" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="162" y="310.5"/><ellipse cx="179.7" cy="326.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M182.1731,332.6431 Q181.5921,332.9419 180.9529,333.0913 Q180.3138,333.2407 179.6082,333.2407 Q177.1014,333.2407 175.7815,331.5889 Q174.4617,329.937 174.4617,326.8159 Q174.4617,323.6865 175.7815,322.0347 Q177.1014,320.3828 179.6082,320.3828 Q180.3138,320.3828 180.9612,320.5322 Q181.6087,320.6816 182.1731,320.9805 L182.1731,323.7031 Q181.5423,323.1221 180.9488,322.8523 Q180.3553,322.5825 179.7244,322.5825 Q178.3797,322.5825 177.6949,323.6492 Q177.0101,324.7158 177.0101,326.8159 Q177.0101,328.9077 177.6949,329.9744 Q178.3797,331.041 179.7244,331.041 Q180.3553,331.041 180.9488,330.7712 Q181.5423,330.5015 182.1731,329.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="194.3" y="331.0352">SessionID</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="163" x2="253" y1="342.5" y2="342.5"/><ellipse cx="173" cy="354.4775" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="182" y="357.1348">value: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="163" x2="253" y1="363.4551" y2="363.4551"/><!--class state.Domain.models.values.SessionIDStatus--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="86.8652" id="state.Domain.models.values.SessionIDStatus" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="110" y="188.5"/><ellipse cx="159.75" cy="204.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M162.2231,210.6431 Q161.6421,210.9419 161.0029,211.0913 Q160.3638,211.2407 159.6582,211.2407 Q157.1514,211.2407 155.8315,209.5889 Q154.5117,207.937 154.5117,204.8159 Q154.5117,201.6865 155.8315,200.0347 Q157.1514,198.3828 159.6582,198.3828 Q160.3638,198.3828 161.0112,198.5322 Q161.6587,198.6816 162.2231,198.9805 L162.2231,201.7031 Q161.5923,201.1221 160.9988,200.8523 Q160.4053,200.5825 159.7744,200.5825 Q158.4297,200.5825 157.7449,201.6492 Q157.0601,202.7158 157.0601,204.8159 Q157.0601,206.9077 157.7449,207.9744 Q158.4297,209.041 159.7744,209.041 Q160.4053,209.041 160.9988,208.7712 Q161.5923,208.5015 162.2231,207.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="180.25" y="209.0352">SessionIDStatus</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="111" x2="305" y1="220.5" y2="220.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="111" x2="305" y1="228.5" y2="228.5"/><ellipse cx="121" cy="240.4775" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="130" y="243.1348">exists(): Boolean</text><ellipse cx="121" cy="253.4326" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="130" y="256.0898">expired(): Boolean</text><ellipse cx="121" cy="266.3877" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="130" y="269.0449">existsAndNotExpired(): Boolean</text><!--class state.Domain.models.values.TimeoutSessionIDStatus--><rect fill="#FEFECE" filter="url(#faz7q2effpl4j)" height="48" id="state.Domain.models.values.TimeoutSessionIDStatus" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="371.5" y="317"/><ellipse cx="386.5" cy="333" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M388.9731,339.1431 Q388.3921,339.4419 387.7529,339.5913 Q387.1138,339.7407 386.4082,339.7407 Q383.9014,339.7407 382.5815,338.0889 Q381.2617,336.437 381.2617,333.3159 Q381.2617,330.1865 382.5815,328.5347 Q383.9014,326.8828 386.4082,326.8828 Q387.1138,326.8828 387.7612,327.0322 Q388.4087,327.1816 388.9731,327.4805 L388.9731,330.2031 Q388.3423,329.6221 387.7488,329.3523 Q387.1553,329.0825 386.5244,329.0825 Q385.1797,329.0825 384.4949,330.1492 Q383.8101,331.2158 383.8101,333.3159 Q383.8101,335.4077 384.4949,336.4744 Q385.1797,337.541 386.5244,337.541 Q387.1553,337.541 387.7488,337.2712 Q388.3423,337.0015 388.9731,336.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="135" x="400.5" y="337.5352">TimeoutSessionIDStatus</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="372.5" x2="537.5" y1="349" y2="349"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="372.5" x2="537.5" y1="357" y2="357"/><!--link state.Domain.CQ.api.ApplicationContextManager to state.Domain.CQ.api.command.CreateApplicationContext--><path d="M303.02,993.88 C317.06,991.48 331.62,988.98 345.91,986.53 " fill="none" id="state.Domain.CQ.api.ApplicationContextManager-state.Domain.CQ.api.command.CreateApplicationContext" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="344.97,979.59,365.86,983.11,347.33,993.39,344.97,979.59" style="stroke: #A80036; stroke-width: 1.0;"/><!--link state.Domain.CQ.api.ApplicationContextManager to state.Domain.CQ.api.command.CreateSessionID--><path d="M303.02,1025.73 C326.06,1029.59 350.52,1033.68 372.9,1037.43 " fill="none" id="state.Domain.CQ.api.ApplicationContextManager-state.Domain.CQ.api.command.CreateSessionID" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="374.19,1030.55,392.76,1040.75,371.88,1044.35,374.19,1030.55" style="stroke: #A80036; stroke-width: 1.0;"/><!--link state.Domain.CQ.api.ApplicationContextManager to state.Domain.CQ.api.command.ResetSessionIDTimeout--><path d="M247.47,1034.01 C286.75,1058.52 342,1093 342,1093 C342,1093 353.52,1097.22 369.17,1102.95 " fill="none" id="state.Domain.CQ.api.ApplicationContextManager-state.Domain.CQ.api.command.ResetSessionIDTimeout" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="371.83,1096.46,388.2,1109.91,367.01,1109.61,371.83,1096.46" style="stroke: #A80036; stroke-width: 1.0;"/><!--link state.Domain.CQ.api.ApplicationContextManager to state.Domain.CQ.api.command.SetContext--><path d="M228.34,1034.14 C265.23,1080.18 342,1176 342,1176 C342,1176 364.5,1184.24 389.34,1193.33 " fill="none" id="state.Domain.CQ.api.ApplicationContextManager-state.Domain.CQ.api.command.SetContext" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="392.07,1186.88,408.45,1200.32,387.26,1200.02,392.07,1186.88" style="stroke: #A80036; stroke-width: 1.0;"/><!--link state.Domain.CQ.api.ApplicationContextManager to state.Domain.CQ.api.query.GetApplicationContext--><path d="M224.52,985.97 C259.6,931.63 342,804 342,804 C342,804 354.43,799.34 371,793.12 " fill="none" id="state.Domain.CQ.api.ApplicationContextManager-state.Domain.CQ.api.query.GetApplicationContext" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="368.64,786.53,389.82,786.07,373.55,799.64,368.64,786.53" style="stroke: #A80036; stroke-width: 1.0;"/><!--link state.Domain.CQ.api.ApplicationContextManager to state.Domain.CQ.api.query.VerifySessionID--><path d="M244.89,985.83 C286.11,958.07 354.12,912.26 401.34,880.46 " fill="none" id="state.Domain.CQ.api.ApplicationContextManager-state.Domain.CQ.api.query.VerifySessionID" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="397.52,874.6,418.02,869.23,405.34,886.21,397.52,874.6" style="stroke: #A80036; stroke-width: 1.0;"/><!--link state.Domain.models.values.SessionID to state.Domain.models.values.SessionIDStatus--><!--link state.Domain.models.values.SessionID to state.Domain.models.values.TimeoutSessionIDStatus--><!--
@startuml
skinparam linetype polyline
left to right direction

package "state" {
  card "Domain" as state.Domain {
    card "Command and Query" as state.Domain.CQ {
      package "api.email" as state.Domain.CQ.api {
        interface "ApplicationContextManager" as state.Domain.CQ.api.ApplicationContextManager {
        }
        package "command" as state.Domain.CQ.api.command {
          interface "CreateApplicationContext" as state.Domain.CQ.api.command.CreateApplicationContext
          interface "CreateSessionID" as state.Domain.CQ.api.command.CreateSessionID
          interface "ResetSessionIDTimeout" as state.Domain.CQ.api.command.ResetSessionIDTimeout
          interface "SetContext" as state.Domain.CQ.api.command.SetContext
        }
        package "query" as state.Domain.CQ.api.query {
          interface "GetApplicationContext" as state.Domain.CQ.api.query.GetApplicationContext
          interface "VerifySessionID" as state.Domain.CQ.api.query.VerifySessionID
        }
      }
    }
  }

  package "Domain" as state.Domain {
    card "models" as state.Domain.models {
      class "AccessContext" as state.Domain.models.AccessContext {
        +status: SessionIDStatus
      }
      class "ApplicationContext" as state.Domain.models.ApplicationContext {
        +childContexts: Seq[Context]
        +get[T <: Context](Class[T]): T
      }
      card "values" as state.Domain.models.values {
        class "SessionID" as state.Domain.models.values.SessionID {
          +value: String
        }
        class "SessionIDStatus" as state.Domain.models.values.SessionIDStatus {
          +exists(): Boolean
          +expired(): Boolean
          +existsAndNotExpired(): Boolean
        }
        class "TimeoutSessionIDStatus" as state.Domain.models.values.TimeoutSessionIDStatus {
        }
      }
    }
  }
}

state.Domain.CQ.api.ApplicationContextManager -down-|> state.Domain.CQ.api.command.CreateApplicationContext
state.Domain.CQ.api.ApplicationContextManager -down-|> state.Domain.CQ.api.command.CreateSessionID
state.Domain.CQ.api.ApplicationContextManager -down-|> state.Domain.CQ.api.command.ResetSessionIDTimeout
state.Domain.CQ.api.ApplicationContextManager -down-|> state.Domain.CQ.api.command.SetContext
state.Domain.CQ.api.ApplicationContextManager -down-|> state.Domain.CQ.api.query.GetApplicationContext
state.Domain.CQ.api.ApplicationContextManager -down-|> state.Domain.CQ.api.query.VerifySessionID
@enduml

PlantUML version 1.2019.01(Sun Feb 10 00:32:04 JST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10
Operating System: Mac OS X
OS Version: 10.15.7
Default Encoding: UTF-8
Language: en
Country: JP
--></g></svg>